"use strict";(self.webpackChunkdust_web=self.webpackChunkdust_web||[]).push([[605],{376:(e,t,n)=>{e.exports=n.p+"39e5211489cd1288a037.wasm"},605:(e,t,n)=>{let r;n.r(t),n.d(t,{EmuState:()=>v,SaveType:()=>y,WbgModel:()=>h,create_emu_state:()=>f,default:()=>O,initSync:()=>F,internal_get_memory:()=>w,internal_get_module:()=>b,run_worker:()=>s});const o="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&o.decode();let a=null;function i(){return null!==a&&a.buffer===r.memory.buffer||(a=new Uint8Array(r.memory.buffer)),a}function _(e,t){return e>>>=0,o.decode(i().slice(e,e+t))}function s(){r.run_worker()}function u(e){return null==e}function c(e){const t=r.__externref_table_alloc();return r.__wbindgen_export_1.set(t,e),t}function f(e,t,n,o,a,i,_,s,f){const b=r.create_emu_state(u(e)?0:c(e),u(t)?0:c(t),u(n)?0:c(n),o,u(a)?0:c(a),u(i)?11:i,_,s,f);return v.__wrap(b)}function b(){return r.internal_get_module()}function w(){return r.internal_get_memory()}let l=0;const d="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},m=function(e,t){const n=d.encode(e);return t.set(n),{read:e.length,written:n.length}};let g=null;function p(){return null!==g&&g.buffer===r.memory.buffer||(g=new DataView(r.memory.buffer)),g}const y=Object.freeze({None:0,0:"None",Eeprom4k:1,1:"Eeprom4k",EepromFram64k:2,2:"EepromFram64k",EepromFram512k:3,3:"EepromFram512k",EepromFram1m:4,4:"EepromFram1m",Flash2m:5,5:"Flash2m",Flash4m:6,6:"Flash4m",Flash8m:7,7:"Flash8m",Nand64m:8,8:"Nand64m",Nand128m:9,9:"Nand128m",Nand256m:10,10:"Nand256m"}),h=Object.freeze({Ds:0,0:"Ds",Lite:1,1:"Lite",Ique:2,2:"Ique",IqueLite:3,3:"IqueLite",Dsi:4,4:"Dsi"}),k="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry((e=>r.__wbg_emustate_free(e>>>0,1)));class v{static __wrap(e){e>>>=0;const t=Object.create(v.prototype);return t.__wbg_ptr=e,k.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_emustate_free(e,0)}reset(){r.emustate_reset(this.__wbg_ptr)}load_save(e){r.emustate_load_save(this.__wbg_ptr,e)}export_save(){return r.emustate_export_save(this.__wbg_ptr)}update_input(e,t){r.emustate_update_input(this.__wbg_ptr,e,t)}update_touch(e,t){r.emustate_update_touch(this.__wbg_ptr,u(e)?16777215:e,u(t)?16777215:t)}run_frame(){return r.emustate_run_frame(this.__wbg_ptr)}}function A(){const e={wbg:{}};return e.wbg.__wbindgen_memory=function(){return r.memory},e.wbg.__wbg_buffer_ccaed51a635d8a2d=function(e){return e.buffer},e.wbg.__wbg_newwithbyteoffsetandlength_fc445c2d308275d0=function(e,t,n){return new Float32Array(e,t>>>0,n>>>0)},e.wbg.__wbg_new_1da7377de0530afc=function(e){return new Float32Array(e)},e.wbg.__wbg_call_5fb7c8066a4a4825=function(){return function(e,t){try{return function(e,t,n,r){return e.call(t,n,r)}.apply(this,t)}catch(e){const t=c(e);r.__wbindgen_exn_store(t)}}(0,arguments)},e.wbg.__wbg_newwithbyteoffsetandlength_7e3eb787208af730=function(e,t,n){return new Uint8Array(e,t>>>0,n>>>0)},e.wbg.__wbg_new_fec2611eb9180f95=function(e){return new Uint8Array(e)},e.wbg.__wbg_newwithbyteoffsetandlength_5f67057565ba35bf=function(e,t,n){return new Uint32Array(e,t>>>0,n>>>0)},e.wbg.__wbg_new_f72bacad1bb22b64=function(e){return new Uint32Array(e)},e.wbg.__wbg_length_9254c4bd3b9f23c4=function(e){return e.length},e.wbg.__wbindgen_module=function(){return W.__wbindgen_wasm_module},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return new Error},e.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=function(e,t,n){if(void 0===n){const n=d.encode(e),r=t(n.length,1)>>>0;return i().subarray(r,r+n.length).set(n),l=n.length,r}let r=e.length,o=t(r,1)>>>0;const a=i();let _=0;for(;_<r;_++){const t=e.charCodeAt(_);if(t>127)break;a[o+_]=t}if(_!==r){0!==_&&(e=e.slice(_)),o=n(o,r,r=_+3*e.length,1)>>>0;const t=i().subarray(o+_,o+r);_+=m(e,t).written,o=n(o,r,_,1)>>>0}return l=_,o}(t.stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l;p().setInt32(e+4,o,!0),p().setInt32(e+0,n,!0)},e.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,o;try{n=e,o=t,console.error(_(e,t))}finally{r.__wbindgen_free(n,o,1)}},e.wbg.__wbg_set_ec2fcf81bc573fd9=function(e,t,n){e.set(t,n>>>0)},e.wbg.__wbindgen_throw=function(e,t){throw new Error(_(e,t))},e.wbg.__wbindgen_init_externref_table=function(){const e=r.__wbindgen_export_1,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e}function x(e,t){e.wbg.memory=t||new WebAssembly.Memory({initial:19,maximum:16384,shared:!0})}function E(e,t,n){if(r=e.exports,W.__wbindgen_wasm_module=t,g=null,a=null,void 0!==n&&("number"!=typeof n||0===n||n%65536!=0))throw"invalid stack size";return r.__wbindgen_start(n),r}function F(e,t){if(void 0!==r)return r;let n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module:e,memory:t,thread_stack_size:n}=e):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const o=A();return x(o,t),e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),E(new WebAssembly.Instance(e,o),e,n)}async function W(e,t){if(void 0!==r)return r;let o;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e,memory:t,thread_stack_size:o}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(n(376),n.b));const a=A();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e)),x(a,t);const{instance:i,module:_}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,a);return E(i,_,o)}const O=W}}]);